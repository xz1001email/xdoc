

## 什么是Module？

Module本质就是描述一个硬件模块，接口就是硬件模块的输入输出，内部逻辑就是硬件模块的逻辑功能。

- Module = 接口 + 逻辑
- 接口  = 输入 + 输出
- 逻辑 = 组合逻辑 + 时序逻辑

## 逻辑的描述关键词

#### assign 

- 描述组合逻辑， 无时间概念，所有的都是即使生效的
- 连续赋值，一般用来分配wire

#### initial

-  面向过程
- 只执行一次，通常用于编写测试文件

#### always

- 描述组合逻辑和时序逻辑
- 内部逻辑是面向过程的，可以顺序执行，
- 块内被赋值的信号只能是reg型

### 并行概念

- 逻辑分配语句，比如assign,initial,always,模块实例化
- 相同的逻辑分配语句可以有多个
- 这些都是并行的，和代码所在位置无关

### 变量类型

#### wire

- wire在实际电路中对应一个连线
- 用于组合逻辑，实时生效
- wire经常作为被驱动的一方

#### reg

- reg 带有存储功能
- reg 可以在时钟配合下作为数据驱动
- reg经常作为驱动的一方

### 数字

#### 格式

- 完整写法  <位宽><进制><数字>

- 省略位宽，<进制><数字>  默认机器位宽，但至少32bit

-  省略进制，<数字>  默认是十进制

#### 进制

- 二进制 b/B        8'b10011001

- 十进制 d/D        8'd50

- 十六进制 h/H    8'ha0

- 八进制 o/O        8'o11

#### 字符

- X 代表不定值      8'b1001100x
- Z 代表高组          8'b1001100z

#### 其他

负数           -8‘d5

下划线         8'b1001_100x

字母对应ascii值             “AB”  = 16'b0100_0001_0100_0010

#### 参数

模块中使用parameter，调用者可以修改parameter，相当于实现了重载功能。

参数型常数经常用于定义延迟时间和变量位宽。

#### 条件控制

- if else 是一条语句

- else总是与上面最近的if匹配

- 如果有嵌套，且嵌套的是一个单独的if， 必须用begin end限定

- `if(a>0)`

  ```verilog
  //if和begin可以放在一行
  if(a>0) begin 
  	if(b>0)
          //do some thing
      else
          //do some thing
  end else
      //do some thing
  ```

  

### 仿真

 vivado中的仿真的本质是用软件来模拟， 和硬件无关。完成个工作的程序是仿真器软件

2018.3版本支持的第三方仿真器

- Mentor Graphics ModelSim SE/DE/PE (10.6c)

- Mentor Graphics Questa 高级仿真器 (10.6c)

- Cadence Incisive 企业仿真器 (IES) (15.20.053)

- Cadence Xcelium 并行模拟器（18.03.005）

- Synopsys VCS 与 VCS MX (N-2017.12-SP2)

- Aldec Active-HDL (10.5) Aldec Riviera-PRO (2018.02)
  


#### 功能仿真 （前仿真）

- 未综合前的仿真，仿真速率比较快，
- 功能仿真不考虑实际的时钟问题， 一个软件的理想时钟

#### 综合后的仿真 （门级仿真）

- 基于综合后生成的网表，软件模拟仿真

#### 实施后的时序仿真 （后仿真）

- 布局布线、引入延迟模型，接近实际电路的仿真
- 仿真速度比较慢





